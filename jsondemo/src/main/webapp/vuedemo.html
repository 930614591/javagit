<html>
<body>
<h2>Hello World!</h2>
<div id="app">
    <table>
        <tr>
            <th>id</th>
            <th>username</th>
            <th>password</th>
        </tr>
<!--        使用v-for来遍历tr-->
<!--        从模型users里获取值-->
        <tr v-for="user in users">
            <td>{{user.id}}</td>
            <td>{{user.username}}</td>
            <td>{{user.password}}</td>
        </tr>
    </table>
</div>
<script src="js/vue.js"></script>
<script src="js/axios.min.js"></script>
<script>
    new Vue({
        el:"#app",
        data(){
            return{
                //建立数组模型users
                users:[]
            }
        },
        mounted(){
            //vue生命周期-页面加载完成函数mounted，发送异步请求，查询数据
            var _this=this;  //在这里吧vue对象变成变量，以供属性赋值
            axios.get("/jsondemo/selectAll").then(function (response){
                //为模型赋值
                _this.users=response.data;
                console.info(response);
            })
        }
    })
    //设定页面加载完毕事件
    // window.onload=function() {
    //     //发送请求
    //     axios.get("/jsondemo/selectAll").then(function (response) {
    //         //回调函数
    //         // console.info(response.data);
    //         for (var user in response.data){
    //             console.info(
    //                 response.data[user].id+":"+response.data[user].username+":"+response.data[user].password
    //             );
    //         };
    //     })
    // }

</script>
</body>
</html>
